{
  "openapi" : "3.1.0",
  "info" : {
    "title" : "API Documentation",
    "description" : "API với xác thực Bearer Token",
    "version" : "1.0"
  },
  "servers" : [ {
    "url" : "http://localhost:8080",
    "description" : "Generated server url"
  } ],
  "security" : [ {
    "bearerAuth" : [ ]
  } ],
  "paths" : {
    "/api/profiles/{id}/health" : {
      "put" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "updateHealthProfile",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateHealthProfile"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ProfileDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/family/{id}" : {
      "get" : {
        "tags" : [ "family-controller" ],
        "operationId" : "getFamily",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FamilyDTO"
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "family-controller" ],
        "operationId" : "updateFamily",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateFamilyRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FamilyDTO"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "family-controller" ],
        "operationId" : "deleteFamily",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/share-profile" : {
      "post" : {
        "tags" : [ "share-profile-controller" ],
        "operationId" : "createShareProfile",
        "parameters" : [ {
          "name" : "shareProfile",
          "in" : "query",
          "required" : true,
          "schema" : {
            "$ref" : "#/components/schemas/ShareProfileDto"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ShareProfile"
                }
              }
            }
          }
        }
      }
    },
    "/api/prescriptions" : {
      "post" : {
        "tags" : [ "prescription-controller" ],
        "operationId" : "createPrescription",
        "parameters" : [ {
          "name" : "prescriptionDto",
          "in" : "query",
          "required" : true,
          "schema" : {
            "$ref" : "#/components/schemas/PrescriptionDto"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/medical-records" : {
      "post" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "createMedicalRecord",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/MedicalRecordDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/medical-records/{id}/attachments" : {
      "post" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "addAttachments",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "multipart/form-data" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "attachments" : {
                    "type" : "array",
                    "items" : {
                      "type" : "string",
                      "format" : "binary"
                    }
                  }
                },
                "required" : [ "attachments" ]
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  }
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "deleteAttachment",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "attachment",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/files" : {
      "post" : {
        "tags" : [ "file-controller" ],
        "operationId" : "uploadFile",
        "requestBody" : {
          "content" : {
            "multipart/form-data" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "file" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                },
                "required" : [ "file" ]
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FileDocument"
                }
              }
            }
          }
        }
      }
    },
    "/api/family" : {
      "post" : {
        "tags" : [ "family-controller" ],
        "operationId" : "createFamily",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateFamilyRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FamilyDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/family/{id}/members" : {
      "get" : {
        "tags" : [ "family-member-controller" ],
        "operationId" : "getMembersByFamilyId",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/FamilyMemberDTO"
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "family-member-controller" ],
        "operationId" : "addMemberToFamily",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/AddMemberToFamilyRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FamilyMemberDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/register" : {
      "post" : {
        "tags" : [ "auth-controller" ],
        "operationId" : "register",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/auth/logout" : {
      "post" : {
        "tags" : [ "auth-controller" ],
        "operationId" : "logout",
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/auth/login" : {
      "post" : {
        "tags" : [ "auth-controller" ],
        "operationId" : "login",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/LoginRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/@me" : {
      "get" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "me",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/UserDTO"
                }
              }
            }
          }
        }
      },
      "patch" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "updateMe",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateProfileRequest"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ProfileDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/@me/password" : {
      "patch" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "updateMyPassword",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdatePasswordRequest"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/UserDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/@me/health" : {
      "patch" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "updateMyHealthProfile",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateHealthProfile"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ProfileDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/@me/avatar" : {
      "patch" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "updateMyAvatar",
        "requestBody" : {
          "content" : {
            "multipart/form-data" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "file" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                },
                "required" : [ "file" ]
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ProfileDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/share-profile/{id}" : {
      "get" : {
        "tags" : [ "share-profile-controller" ],
        "operationId" : "getShareProfile",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ShareProfileDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/{id}" : {
      "get" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "getProfileById",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ProfileDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/{id}/prescriptions" : {
      "get" : {
        "tags" : [ "profile-controller" ],
        "operationId" : "getPrescriptionByProfileId",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/PrescriptionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/prescriptions/{id}" : {
      "get" : {
        "tags" : [ "prescription-controller" ],
        "operationId" : "getPrescription",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PrescriptionDto"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "prescription-controller" ],
        "operationId" : "deletePrescription",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/medical-records/{id}" : {
      "get" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "getMedicalRecord",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/MedicalRecordDto"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "deleteMedicalRecord",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/medical-records/{id}/prescriptions" : {
      "get" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "getPrescriptionByRecord",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PrescriptionDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/medical-records/profile/{profileId}" : {
      "get" : {
        "tags" : [ "medical-record-controller" ],
        "operationId" : "getAllMedicalRecords",
        "parameters" : [ {
          "name" : "profileId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/MedicalRecordDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/files/view/{id}/{filename}" : {
      "get" : {
        "tags" : [ "file-controller" ],
        "operationId" : "viewFile",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        }, {
          "name" : "filename",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string",
                  "format" : "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/files/download/{id}/{filename}" : {
      "get" : {
        "tags" : [ "file-controller" ],
        "operationId" : "downloadFile",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        }, {
          "name" : "filename",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string",
                  "format" : "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/family/{id}/members/{memberId}" : {
      "get" : {
        "tags" : [ "family-member-controller" ],
        "operationId" : "getFamilyMemberById",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "memberId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FamilyMemberDTO"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "family-member-controller" ],
        "operationId" : "deleteMemberFromFamily",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        }, {
          "name" : "memberId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/family/@me" : {
      "get" : {
        "tags" : [ "family-controller" ],
        "operationId" : "getMyFamily",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/FamilyDTO"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/files/{id}/{filename}" : {
      "delete" : {
        "tags" : [ "file-controller" ],
        "operationId" : "deleteFile",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        }, {
          "name" : "filename",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "UpdateHealthProfile" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "bloodType" : {
            "type" : "string",
            "pattern" : "^(A|B|AB|O)[+-]$"
          },
          "height" : {
            "type" : "number",
            "format" : "double",
            "maximum" : 300.0,
            "minimum" : 0.0
          },
          "weight" : {
            "type" : "number",
            "format" : "double",
            "maximum" : 500.0,
            "minimum" : 0.0
          },
          "allergies" : {
            "type" : "string",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "chronicDiseases" : {
            "type" : "string",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "notes" : {
            "type" : "string",
            "maxLength" : 2000,
            "minLength" : 0
          },
          "healthInsuranceNumber" : {
            "type" : "string"
          }
        },
        "required" : [ "healthInsuranceNumber" ]
      },
      "ProfileDTO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "bloodType" : {
            "type" : "string"
          },
          "height" : {
            "type" : "number",
            "format" : "double"
          },
          "weight" : {
            "type" : "number",
            "format" : "double"
          },
          "allergies" : {
            "type" : "string"
          },
          "chronicDiseases" : {
            "type" : "string"
          },
          "notes" : {
            "type" : "string"
          },
          "healthInsuranceNumber" : {
            "type" : "string"
          },
          "fullName" : {
            "type" : "string"
          },
          "phoneNumber" : {
            "type" : "string"
          },
          "dateOfBirth" : {
            "type" : "string",
            "format" : "date"
          },
          "gender" : {
            "type" : "string",
            "enum" : [ "FEMALE", "MALE" ]
          },
          "email" : {
            "type" : "string"
          },
          "address" : {
            "type" : "string"
          },
          "avatarUrl" : {
            "type" : "string"
          },
          "bio" : {
            "type" : "string"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "userId" : {
            "type" : "integer",
            "format" : "int64"
          }
        }
      },
      "CreateFamilyRequest" : {
        "type" : "object",
        "properties" : {
          "familyName" : {
            "type" : "string",
            "maxLength" : 255,
            "minLength" : 3
          },
          "address" : {
            "type" : "string",
            "maxLength" : 500,
            "minLength" : 0
          },
          "phoneNumber" : {
            "type" : "string",
            "pattern" : "^(\\+84|0)[3|5|7|8|9][0-9]{8}$"
          },
          "email" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 0
          }
        },
        "required" : [ "address", "email", "familyName", "phoneNumber" ]
      },
      "FamilyDTO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "familyName" : {
            "type" : "string"
          },
          "address" : {
            "type" : "string"
          },
          "owner" : {
            "$ref" : "#/components/schemas/ProfileDTO"
          },
          "phoneNumber" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          },
          "isActive" : {
            "type" : "boolean"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "familyMembers" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/FamilyMemberDTO"
            }
          },
          "ownerId" : {
            "type" : "integer",
            "format" : "int64"
          }
        }
      },
      "FamilyMemberDTO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "profile" : {
            "$ref" : "#/components/schemas/ProfileDTO"
          },
          "relationship" : {
            "type" : "string"
          },
          "isActive" : {
            "type" : "boolean"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "profileId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "familyId" : {
            "type" : "integer",
            "format" : "int64"
          }
        }
      },
      "SharePermissionDto" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64",
            "readOnly" : true
          },
          "shareRequestId" : {
            "type" : "string",
            "format" : "uuid",
            "readOnly" : true
          },
          "permissionTypes" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "enum" : [ "VIEW", "EDIT", "CREATE" ]
            }
          },
          "resourceType" : {
            "type" : "string",
            "enum" : [ "PROFILE", "VACCINATION", "MEDICAL_RECORD", "FILE_DOCUMENT", "PRESCRIPTION" ]
          }
        }
      },
      "ShareProfileDto" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "family" : {
            "$ref" : "#/components/schemas/FamilyDTO",
            "readOnly" : true
          },
          "member" : {
            "$ref" : "#/components/schemas/FamilyMemberDTO",
            "readOnly" : true
          },
          "memberId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "sharePermissions" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/SharePermissionDto"
            }
          },
          "invitedEmails" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "shareToken" : {
            "type" : "string"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "expiresAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "shareType" : {
            "type" : "string",
            "enum" : [ "AnyOneWithLink", "OnlyInvitedPeople" ]
          },
          "reason" : {
            "type" : "string"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "createdBy" : {
            "type" : "string"
          }
        }
      },
      "Family" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "familyName" : {
            "type" : "string",
            "maxLength" : 255,
            "minLength" : 3
          },
          "address" : {
            "type" : "string",
            "maxLength" : 500,
            "minLength" : 0
          },
          "owner" : {
            "$ref" : "#/components/schemas/Profile"
          },
          "ownerId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "phoneNumber" : {
            "type" : "string",
            "pattern" : "^(\\+84|0)[3|5|7|8|9][0-9]{8}$"
          },
          "email" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 0
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "isActive" : {
            "type" : "boolean"
          },
          "familyMembers" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/FamilyMember"
            }
          }
        },
        "required" : [ "address", "familyName", "isActive", "owner" ]
      },
      "FamilyMember" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "family" : {
            "$ref" : "#/components/schemas/Family"
          },
          "familyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "profile" : {
            "$ref" : "#/components/schemas/Profile"
          },
          "profileId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "relationship" : {
            "type" : "string",
            "maxLength" : 50,
            "minLength" : 0
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "isActive" : {
            "type" : "boolean"
          }
        },
        "required" : [ "family", "relationship" ]
      },
      "GrantedAuthority" : {
        "type" : "object",
        "properties" : {
          "authority" : {
            "type" : "string"
          }
        }
      },
      "Profile" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "bloodType" : {
            "type" : "string",
            "pattern" : "^(A|B|AB|O)[+-]$"
          },
          "height" : {
            "type" : "number",
            "format" : "double",
            "maximum" : 300.0,
            "minimum" : 0.0
          },
          "weight" : {
            "type" : "number",
            "format" : "double",
            "maximum" : 500.0,
            "minimum" : 0.0
          },
          "allergies" : {
            "type" : "string",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "chronicDiseases" : {
            "type" : "string",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "notes" : {
            "type" : "string",
            "maxLength" : 2000,
            "minLength" : 0
          },
          "healthInsuranceNumber" : {
            "type" : "string",
            "maxLength" : 20,
            "minLength" : 0
          },
          "fullName" : {
            "type" : "string"
          },
          "phoneNumber" : {
            "type" : "string"
          },
          "dateOfBirth" : {
            "type" : "string",
            "format" : "date"
          },
          "gender" : {
            "type" : "string",
            "enum" : [ "FEMALE", "MALE" ]
          },
          "email" : {
            "type" : "string"
          },
          "address" : {
            "type" : "string"
          },
          "avatarUrl" : {
            "type" : "string"
          },
          "bio" : {
            "type" : "string"
          },
          "user" : {
            "$ref" : "#/components/schemas/User"
          },
          "userId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "familyMembers" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/FamilyMember"
            }
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          }
        }
      },
      "SharePermission" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "shareRequest" : {
            "$ref" : "#/components/schemas/ShareProfile"
          },
          "shareRequestId" : {
            "type" : "string",
            "format" : "uuid"
          },
          "permissionTypes" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "enum" : [ "VIEW", "EDIT", "CREATE" ]
            }
          },
          "resourceType" : {
            "type" : "string",
            "enum" : [ "PROFILE", "VACCINATION", "MEDICAL_RECORD", "FILE_DOCUMENT", "PRESCRIPTION" ]
          }
        }
      },
      "ShareProfile" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "family" : {
            "$ref" : "#/components/schemas/Family"
          },
          "member" : {
            "$ref" : "#/components/schemas/FamilyMember"
          },
          "memberId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "sharePermissions" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/SharePermission"
            }
          },
          "invitedEmails" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "shareToken" : {
            "type" : "string"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "expiresAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "shareType" : {
            "type" : "string",
            "enum" : [ "AnyOneWithLink", "OnlyInvitedPeople" ]
          },
          "reason" : {
            "type" : "string"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "createdBy" : {
            "type" : "string"
          },
          "shareAll" : {
            "type" : "boolean"
          }
        }
      },
      "User" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "password" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "isActive" : {
            "type" : "boolean"
          },
          "lastLogin" : {
            "type" : "string",
            "format" : "date-time"
          },
          "profile" : {
            "$ref" : "#/components/schemas/Profile"
          },
          "username" : {
            "type" : "string"
          },
          "authorities" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/GrantedAuthority"
            }
          },
          "enabled" : {
            "type" : "boolean"
          },
          "accountNonLocked" : {
            "type" : "boolean"
          },
          "credentialsNonExpired" : {
            "type" : "boolean"
          },
          "accountNonExpired" : {
            "type" : "boolean"
          }
        }
      },
      "PrescriptionDto" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "medicalRecordId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/PrescriptionItemDto"
            }
          },
          "createdBy" : {
            "type" : "string"
          }
        }
      },
      "PrescriptionItemDto" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "prescriptionId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "medicationName" : {
            "type" : "string",
            "maxLength" : 200,
            "minLength" : 2
          },
          "dosage" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 1
          },
          "frequency" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 1
          },
          "durationInDays" : {
            "type" : "integer",
            "format" : "int32",
            "minimum" : 1
          },
          "startUseDate" : {
            "type" : "string",
            "format" : "date"
          },
          "instructions" : {
            "type" : "string",
            "maxLength" : 500,
            "minLength" : 0
          },
          "notes" : {
            "type" : "string",
            "maxLength" : 1000,
            "minLength" : 0
          }
        },
        "required" : [ "dosage", "frequency", "medicationName", "prescriptionId", "startUseDate" ]
      },
      "DoctorDTO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "specialty" : {
            "type" : "string"
          },
          "licenseNumber" : {
            "type" : "string"
          },
          "medicalFacility" : {
            "type" : "string"
          },
          "bio" : {
            "type" : "string"
          },
          "isVerified" : {
            "type" : "boolean"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          }
        }
      },
      "MedicalRecordDto" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "profile" : {
            "$ref" : "#/components/schemas/ProfileDTO"
          },
          "title" : {
            "type" : "string"
          },
          "profileId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "visitDate" : {
            "type" : "string",
            "format" : "date"
          },
          "medicalFacility" : {
            "type" : "string"
          },
          "doctorName" : {
            "type" : "string"
          },
          "doctor" : {
            "$ref" : "#/components/schemas/DoctorDTO"
          },
          "diagnosis" : {
            "type" : "string"
          },
          "treatment" : {
            "type" : "string"
          },
          "notes" : {
            "type" : "string"
          },
          "isFollowup" : {
            "type" : "boolean"
          },
          "followupDate" : {
            "type" : "string",
            "format" : "date"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "createdBy" : {
            "type" : "string"
          },
          "attachments" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          }
        }
      },
      "FileDocument" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "name" : {
            "type" : "string"
          },
          "created" : {
            "type" : "string",
            "format" : "date-time"
          },
          "summary" : {
            "type" : "string"
          },
          "contentId" : {
            "type" : "string"
          },
          "contentLength" : {
            "type" : "integer",
            "format" : "int64"
          },
          "contentMimeType" : {
            "type" : "string"
          }
        }
      },
      "AddMemberToFamilyRequest" : {
        "type" : "object",
        "properties" : {
          "memberProfile" : {
            "$ref" : "#/components/schemas/MemberProfile"
          },
          "relationship" : {
            "type" : "string"
          },
          "familyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "accountId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "hasAccount" : {
            "type" : "boolean"
          },
          "householder" : {
            "type" : "boolean"
          }
        },
        "required" : [ "familyId", "relationship" ]
      },
      "MemberProfile" : {
        "type" : "object",
        "properties" : {
          "fullName" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 2
          },
          "gender" : {
            "type" : "string",
            "enum" : [ "FEMALE", "MALE" ]
          },
          "birthDate" : {
            "type" : "string",
            "format" : "date"
          },
          "phoneNumber" : {
            "type" : "string",
            "pattern" : "^(\\+84|0)[3|5|7|8|9][0-9]{8}$"
          },
          "email" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 0
          }
        },
        "required" : [ "birthDate", "fullName", "gender" ]
      },
      "DoctorInFo" : {
        "type" : "object",
        "properties" : {
          "specialty" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 2
          },
          "licenseNumber" : {
            "type" : "string",
            "pattern" : "^[A-Z0-9]{5,20}$"
          },
          "medicalFacility" : {
            "type" : "string",
            "maxLength" : 200,
            "minLength" : 2
          },
          "bio" : {
            "type" : "string",
            "maxLength" : 1000,
            "minLength" : 0
          }
        }
      },
      "RegisterRequest" : {
        "type" : "object",
        "properties" : {
          "password" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 8,
            "pattern" : "^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).*$"
          },
          "fullName" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 2
          },
          "email" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 0
          },
          "dateOfBirth" : {
            "type" : "string",
            "format" : "date"
          },
          "gender" : {
            "type" : "string",
            "enum" : [ "FEMALE", "MALE" ]
          },
          "doctor" : {
            "$ref" : "#/components/schemas/DoctorInFo"
          }
        },
        "required" : [ "dateOfBirth", "email", "fullName", "password" ]
      },
      "LoginRequest" : {
        "type" : "object",
        "properties" : {
          "username" : {
            "type" : "string"
          },
          "password" : {
            "type" : "string"
          }
        }
      },
      "AuthenticationResponse" : {
        "type" : "object",
        "properties" : {
          "token" : {
            "type" : "string"
          },
          "expiresAt" : {
            "type" : "string",
            "format" : "date-time"
          }
        }
      },
      "LoginResponse" : {
        "type" : "object",
        "properties" : {
          "token" : {
            "$ref" : "#/components/schemas/AuthenticationResponse"
          },
          "user" : {
            "$ref" : "#/components/schemas/UserDTO"
          }
        }
      },
      "UserDTO" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "email" : {
            "type" : "string"
          },
          "isActive" : {
            "type" : "boolean"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "lastLogin" : {
            "type" : "string",
            "format" : "date-time"
          },
          "profile" : {
            "$ref" : "#/components/schemas/ProfileDTO"
          }
        }
      },
      "UpdateProfileRequest" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "email" : {
            "type" : "string"
          },
          "fullName" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 0
          },
          "phoneNumber" : {
            "type" : "string",
            "pattern" : "^\\d{10,15}$"
          },
          "dateOfBirth" : {
            "type" : "string",
            "format" : "date"
          },
          "gender" : {
            "type" : "string",
            "enum" : [ "FEMALE", "MALE" ]
          },
          "address" : {
            "type" : "string",
            "maxLength" : 255,
            "minLength" : 0
          },
          "bio" : {
            "type" : "string"
          }
        },
        "required" : [ "email", "fullName", "gender", "id" ]
      },
      "UpdatePasswordRequest" : {
        "type" : "object",
        "properties" : {
          "oldPassword" : {
            "type" : "string"
          },
          "newPassword" : {
            "type" : "string",
            "maxLength" : 100,
            "minLength" : 8,
            "pattern" : "^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).*$"
          }
        },
        "required" : [ "newPassword", "oldPassword" ]
      }
    },
    "securitySchemes" : {
      "bearerAuth" : {
        "type" : "http",
        "name" : "bearerAuth",
        "scheme" : "bearer",
        "bearerFormat" : "JWT"
      }
    }
  }
}